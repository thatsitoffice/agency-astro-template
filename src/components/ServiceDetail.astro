---
import SectionFAQ from './SectionFAQ.astro';

interface Service {
  title: string;
  description: string;
  icon?: string;
  problem?: string;
  solution?: string;
  deliverables?: string[];
  process?: string[];
  faq?: Array<{ question: string; answer: string }>;
}

interface Props {
  service: Service;
}

const { service } = Astro.props;
---

<article class="service-detail">
  <div class="service-header">
    {service.icon && (
      <div class="service-icon" aria-hidden="true">{service.icon}</div>
    )}
    <h2>{service.title}</h2>
    <p class="service-description">{service.description}</p>
  </div>

  {service.problem && (
    <section class="service-section">
      <h3>Das Problem</h3>
      <p>{service.problem}</p>
    </section>
  )}

  {service.solution && (
    <section class="service-section">
      <h3>Unsere LÃ¶sung</h3>
      <p>{service.solution}</p>
    </section>
  )}

  {service.deliverables && service.deliverables.length > 0 && (
    <section class="service-section">
      <h3>Deliverables</h3>
      <ul class="deliverables-list">
        {service.deliverables.map((item) => (
          <li>{item}</li>
        ))}
      </ul>
    </section>
  )}

  {service.process && service.process.length > 0 && (
    <section class="service-section">
      <h3>Ablauf</h3>
      <ol class="process-list">
        {service.process.map((step) => (
          <li>{step}</li>
        ))}
      </ol>
    </section>
  )}

  {service.faq && service.faq.length > 0 && (
    <section class="service-section">
      <SectionFAQ items={service.faq} title="" />
    </section>
  )}
</article>

<style>
  .service-detail {
    background-color: var(--color-bg);
    border: 1px solid var(--color-border);
    border-radius: var(--border-radius-lg);
    padding: var(--spacing-xl);
    margin-bottom: var(--spacing-xl);
  }

  .service-header {
    text-align: center;
    margin-bottom: var(--spacing-xl);
  }

  .service-icon {
    font-size: var(--font-size-4xl);
    margin-bottom: var(--spacing-md);
  }

  .service-header h2 {
    margin-bottom: var(--spacing-md);
  }

  .service-description {
    font-size: var(--font-size-lg);
    color: var(--color-text-light);
    line-height: var(--line-height-relaxed);
  }

  .service-section {
    margin-bottom: var(--spacing-xl);
  }

  .service-section h3 {
    margin-bottom: var(--spacing-md);
    color: var(--color-primary);
    font-size: var(--font-size-xl);
  }

  .service-section p {
    line-height: var(--line-height-relaxed);
    color: var(--color-text-light);
  }

  .deliverables-list,
  .process-list {
    margin-left: var(--spacing-lg);
    line-height: var(--line-height-relaxed);
  }

  .deliverables-list li,
  .process-list li {
    margin-bottom: var(--spacing-sm);
    color: var(--color-text-light);
  }
</style>
